# ğŸ“Š Visual System Diagram

## ğŸ¨ Complete System Overview

```mermaid
graph TB
    subgraph CLI["USER INTERFACE (CLI)"]
        CMD1[init]
        CMD2[register-drive]
        CMD3[run]
        CMD4[status]
        CMD5[sync-once]
    end
    
    subgraph APP["APPLICATION LAYER"]
        HANDLERS[Command Handlers<br/>â€¢ Initialize config<br/>â€¢ Register drives<br/>â€¢ Execute sync<br/>â€¢ Show statistics]
    end
    
    subgraph CORE["CORE ENGINE (Domain Layer)"]
        CONFIG[Config Manager]
        CLASSIFIER[File Classifier]
        STATE[State Manager]
        
        SYNC["SYNC MANAGER<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>â€¢ Check if synced (hash)<br/>â€¢ Find target drive<br/>â€¢ Copy if online<br/>â€¢ Queue if offline<br/>â€¢ Resume on reconnect"]
        
        WATCHER[File Watcher]
        DETECTOR[Drive Detector]
    end
    
    subgraph INFRA["INFRASTRUCTURE LAYER"]
        FS[File I/O<br/>tokio::fs]
        DB[Database<br/>sled]
        SYS[System Info<br/>sysinfo]
    end
    
    CLI --> APP
    APP --> CORE
    CONFIG --> SYNC
    CLASSIFIER --> SYNC
    STATE --> SYNC
    SYNC --> WATCHER
    SYNC --> DETECTOR
    CORE --> INFRA
    
    style CLI fill:#e3f2fd
    style APP fill:#fff9c4
    style CORE fill:#c8e6c9
    style INFRA fill:#ffccbc
    style SYNC fill:#b2dfdb
```

## ğŸ”„ Data Flow Diagram

```
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚    USER     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ commands
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CLI (clap parser)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                        â”‚
                    â–¼                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Command Handler â”‚    â”‚  Config Manager  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                       â”‚
                 â”‚                       â–¼
                 â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚              â”‚  config.toml   â”‚
                 â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Sync Manager             â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ 1. Get file from source â”‚  â”‚
        â”‚  â”‚ 2. Classify file type   â”‚  â”‚
        â”‚  â”‚ 3. Calculate hash       â”‚  â”‚
        â”‚  â”‚ 4. Check if synced      â”‚  â”‚
        â”‚  â”‚ 5. Find target drive    â”‚  â”‚
        â”‚  â”‚ 6. Copy or queue        â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
            â”‚                       â”‚
            â–¼                       â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ State Manager  â”‚      â”‚ Drive Detector â”‚
   â”‚  (sled DB)     â”‚      â”‚  (sysinfo)     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                       â”‚
            â–¼                       â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ .orchestrator  â”‚      â”‚ USB Drives     â”‚
   â”‚     .db/       â”‚      â”‚  E:\ F:\ G:\   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¬ Sync Process Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SYNC PROCESS                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  START
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ File Detected     â”‚  â—„â”€â”€ File Watcher (notify)
â”‚  photo.jpg        â”‚      monitors HDD directory
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Classify Type     â”‚  â—„â”€â”€ infer crate reads
â”‚  â†’ Image          â”‚      magic bytes (MIME)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Calculate Hash    â”‚  â—„â”€â”€ BLAKE3 hashing
â”‚  â†’ abc123...      â”‚      (fast & secure)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Already Synced?   â”‚  â—„â”€â”€ Check sled database
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      for existing hash
          â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚           â”‚
   YES         NO
    â”‚           â”‚
    â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SKIP  â”‚  â”‚ Find Target USB  â”‚  â—„â”€â”€ Config lookup
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â†’ ImageUSB      â”‚      images â†’ USB1
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ USB Connected?   â”‚  â—„â”€â”€ Drive detector
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      checks sysinfo
                      â”‚
                â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                â”‚           â”‚
               YES         NO
                â”‚           â”‚
                â–¼           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  COPY FILE     â”‚  â”‚ ADD TO QUEUE â”‚
     â”‚  HDD â†’ USB     â”‚  â”‚  (pending)   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                  â”‚
             â–¼                  â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
     â”‚ Update State   â”‚         â”‚
     â”‚ Save hash/path â”‚         â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
             â”‚                  â”‚
             â–¼                  â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚
          â”‚ DONE â”‚              â”‚
          â””â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                â”‚
                                â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ Wait for USB     â”‚
                      â”‚ reconnection...  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ USB plugged in!
                               â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ Process Queue    â”‚
                      â”‚ Sync all pending â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”
                            â”‚ DONE â”‚
                            â””â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—„ï¸ State Database Schema

```mermaid
erDiagram
    FILE_STATE {
        string key "file:source_path"
        string source_path
        string hash "BLAKE3"
        int size
        int last_synced "timestamp"
        string target_drive "UUID"
        string target_path
        string file_category
    }
    
    PENDING_SYNC {
        string key "pending:source_path"
        string source_path
        string file_category
        string target_drive "UUID"
        string hash "BLAKE3"
        int size
        int created_at "timestamp"
    }
    
    FILE_STATE ||--o{ PENDING_SYNC : "queued when offline"
```

**Example Records:**

**FileState:**
```json
{
  "key": "file:C:\\MainStorage\\photo.jpg",
  "source_path": "C:\\MainStorage\\photo.jpg",
  "hash": "abc123def456...",
  "size": 1048576,
  "last_synced": 1699545600,
  "target_drive": "uuid-1234-5678",
  "target_path": "E:\\images\\photo.jpg",
  "file_category": "images"
}
```

**PendingSync:**
```json
{
  "key": "pending:C:\\MainStorage\\video.mp4",
  "source_path": "C:\\MainStorage\\video.mp4",
  "file_category": "videos",
  "target_drive": "uuid-9876-5432",
  "hash": "xyz789abc...",
  "size": 52428800,
  "created_at": 1699545700
}
```

## ğŸ“ File Category Mapping

```mermaid
mindmap
  root((File Orchestrator))
    Images
      jpg
      jpeg
      png
      gif
      bmp
      webp
      svg
    Videos
      mp4
      avi
      mov
      mkv
      flv
      wmv
      webm
    Music
      mp3
      wav
      flac
      aac
      ogg
      m4a
      wma
    Documents
      pdf
      doc
      docx
      txt
      xlsx
      pptx
    Archives
      zip
      rar
      7z
      tar
      gz
```

**Drive Assignment:**
```mermaid
graph LR
    A[Source HDD] --> B{File Classifier}
    B -->|images| C[ImageUSB]
    B -->|videos| D[VideoUSB]
    B -->|music| E[MusicUSB]
    B -->|documents| F[DocUSB]
    B -->|archives| G[ArchiveUSB]
    
    style A fill:#e3f2fd
    style C fill:#ffcdd2
    style D fill:#f8bbd0
    style E fill:#e1bee7
    style F fill:#d1c4e9
    style G fill:#c5cae9
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FILE TYPE â†’ USB MAPPING                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    SOURCE (HDD)                         TARGET (USB)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MainStorage/    â”‚              â”‚                  â”‚
â”‚                   â”‚              â”‚                  â”‚
â”‚  â”œâ”€ photo1.jpg    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  USB1 (Images)   â”‚
â”‚  â”œâ”€ photo2.png    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   E:\images\     â”‚
â”‚  â”‚                â”‚              â”‚                  â”‚
â”‚  â”œâ”€ video1.mp4    â”‚â”€â”€â”€â”€â”€â”        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”œâ”€ video2.avi    â”‚â”€â”€â”€â”€â”€â”¤
â”‚  â”‚                â”‚     â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”œâ”€ song1.mp3     â”‚â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  USB2 (Videos)   â”‚
â”‚  â”œâ”€ song2.flac    â”‚â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”    â”‚   F:\videos\     â”‚
â”‚  â”‚                â”‚     â”‚   â”‚    â”‚                  â”‚
â”‚  â”œâ”€ doc1.pdf      â”‚â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â””â”€ archive.zip   â”‚     â”‚   â”‚
â”‚                   â”‚     â””â”€â”€â”€â”¼â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    â”‚  USB3 (Music)    â”‚
                              â”‚    â”‚   G:\music\      â”‚
                              â”‚    â”‚                  â”‚
                              â””â”€â”€â”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš™ï¸ Configuration Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      config.toml                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  [source]                                                    â”‚
â”‚  path = "D:/MainStorage"  â—„â”€â”€ Where files come from        â”‚
â”‚                                                              â”‚
â”‚  [rules]                                                     â”‚
â”‚  images = ["jpg", "png", ...]  â—„â”€â”€ File extensions         â”‚
â”‚  videos = ["mp4", "avi", ...]      per category             â”‚
â”‚  music  = ["mp3", "wav", ...]                               â”‚
â”‚                                                              â”‚
â”‚  [drives]                                                    â”‚
â”‚  "uuid-1234" = {            â—„â”€â”€ Drive registration         â”‚
â”‚    label = "ImageUSB",          UUID â†’ Category mapping     â”‚
â”‚    target = "images",                                        â”‚
â”‚    path = "E:\"                                              â”‚
â”‚  }                                                           â”‚
â”‚  "uuid-5678" = { ... }                                      â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Watch Mode Timeline

```
TIME  â”‚  EVENT                          â”‚  ACTION
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:00 â”‚  orchestrator run               â”‚  Start watching HDD
      â”‚                                 â”‚  Start drive monitor
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:05 â”‚  User adds photo.jpg            â”‚  Detect new file
      â”‚                                 â”‚  Classify as image
      â”‚                                 â”‚  Sync to ImageUSB
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:10 â”‚  Drive check (interval)         â”‚  Check all USBs
      â”‚  All drives connected           â”‚  No action needed
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:15 â”‚  User adds video.mp4            â”‚  Detect new file
      â”‚  VideoUSB disconnected          â”‚  Add to pending queue
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:20 â”‚  Drive check                    â”‚  VideoUSB still offline
      â”‚                                 â”‚  Keep in queue
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:25 â”‚  User plugs in VideoUSB         â”‚  Detect USB connection
      â”‚                                 â”‚  Process pending queue
      â”‚                                 â”‚  Sync video.mp4
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:30 â”‚  Drive check                    â”‚  All synced, no action
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

## ğŸ¯ Summary

This visual documentation shows:
- âœ… System architecture (layered design)
- âœ… Data flow (from user to disk)
- âœ… Sync process (step-by-step)
- âœ… Database schema (state storage)
- âœ… File mapping (category routing)
- âœ… Configuration (TOML structure)
- âœ… Watch mode timeline (real-time operations)

---

**These diagrams help visualize the complete system! ğŸ¨**
